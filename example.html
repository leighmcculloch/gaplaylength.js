<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <title>jQuery GA Play Length Test</title>
</head>
<body style="font-family: Helvetica Neue">
  <h1 style="text-align:center;">jQuery GA Play Length Test Page</h1>

  <audio controls="controls" preload="none" style="display:block;width:300px;margin:0 auto;">
      <source src="http://audio.esvonline.org/hw/42015011-42015024.mp3" type="audio/mpeg">
  </audio>

  <div class="console" style="width:600px;margin:1em auto;background-color:#eee;padding:0.5em;">

  </div>

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
  <script src="jquery.ga-playlength.js"></script>
  <script>
    function console(log) {
      var $console = $('.console');
      $console.html(log + "</br>" + $console.html());
    }

    var _gaq = {};
    _gaq.push = function(data) {
      console("_gaq.push(" + JSON.stringify(data) + ");");
    };

    var dataLayer = {};
    dataLayer.push = function(data) {
      console("dataLayer.push(" + JSON.stringify(data) + ");");
    };

    var ga = function(params) {
      var args = Array.prototype.slice.call(arguments, 1);
      console("ga(" + args.join(',') + ");");
    };

    _gaq = undefined;
    dataLayer = undefined;
    //ga = undefined;

    $('audio').gaPlayLength({
        audioTime: false,
        userTiming: true
    });
  </script>
</body>
</html>